/**
* Generated by MockModelGenerator from webgme on <%= date %>.
*/
<%
var nodeData, pointerData,
    i, key, val, q;%>
define(['mocks/CoreMock', './META'], function (CoreMock, createMeta) {
    'use strict';
    var core = new CoreMock(<%=timeOut%>),
        META = createMeta(core),
        options;

    options = {
        base: <%if (activeNode.baseIsMeta) {%>META.<%=activeNode.metaType%><%}else{%>null<%}%>,
        parent: core._rootNode,
        attr: {
<%

for (key in activeNode.attr) {
    if (activeNode.attr.hasOwnProperty(key)){
        val = activeNode.attr[key];
        q = typeof val === 'string';
%>            '<%=key%>': <%if (q) {%>'<%=val%>'<%}else{%><%=val%><%}%>,
<%}}%>        }
    };
    var <%=activeNode.ID%> = core.createNode(options);
<%
for (i = 0; i < modelNodes.length; i += 1) {
    nodeData = modelNodes[i];
%>
    options = {
        base: <%if (nodeData.baseIsMeta) {%>META.<%=nodeData.metaType%><%}else{%>null<%}%>,
        parent: <%=nodeData.parentID%>,
        attr: {
<%  for (key in nodeData.attr) {
        if (nodeData.attr.hasOwnProperty(key)){
            val = nodeData.attr[key];
            q = typeof val === 'string';
%>            '<%=key%>': <%if (q) {%>'<%=val%>'<%}else{%><%=val%><%}%>,
<%}}%>        }
    };
    var <%=nodeData.ID%> = core.createNode(options);
<%}%>

// ---------------------- Bases for nodes with non-meta bases -------------------------
<%
for (key in basePairs) {
    if (basePairs.hasOwnProperty(key)) {
%>    <%=key%>.pointers.base = core.getPath(<%=basePairs[key]%>);
<%
    }
}%>
// ---------------------- Pointers (e.g. connections) ---------------------------------
<%
for (i = 0; i < pointers.length; i+= 1) {
    pointerData = pointers[i];
%>    core.setPointer(<%=pointerData.owner%>, '<%=pointerData.name%>', <%=pointerData.pointsTo%>);
<%
}%>
    return {
        core: core,
        META: META,
        activeNode: <%=activeNode.ID%>
    };
});