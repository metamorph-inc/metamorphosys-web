{"version":3,"sources":["src/app/serviceTest/node_modules/browserify/node_modules/browser-pack/_prelude.js","src/app/serviceTest/src/app/serviceTest/app.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"serviceTest-app.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*globals angular, console*/\n\nangular.module( 'CyPhyApp', [\n    'gme.services',\n    'cyphy.components'\n] )\n    .service( '$modal', function () {} )\n    .run( function ( dataStoreService, projectService, branchService, nodeService, workspaceService, componentService,\n        designService, testBenchService ) {\n        'use strict';\n        dataStoreService.connectToDatabase( 'my-db-connection-id', {\n            host: window.location.basename\n        } )\n            .then( function () {\n\n                console.log( 'Connected ...' );\n                return projectService.selectProject( 'my-db-connection-id', 'ADMEditor' );\n\n            } )\n            .then( function () {\n                console.log( 'Project selected...' );\n                dataStoreService.watchConnectionState( 'my-db-connection-id', function ( eventType ) {\n                    console.log( 'watchConnectionState' + eventType );\n                } );\n                return branchService.selectBranch( 'my-db-connection-id', 'master' );\n            } )\n            .then( function () {\n                branchService.watchBranchState( 'my-db-connection-id', function ( eventType ) {\n                    console.log( 'watchBranchState' + eventType );\n                } );\n                console.log( 'Branch selected...' );\n            } )\n            .\n        catch ( function ( reason ) {\n            console.error( reason );\n        } );\n\n\n        //        branchService.on({db: 'my-db-connection-id', projectId: 'ADMEditor', branchId: 'master'}, 'initialize', function (currentContext) {\n        //            console.log('branchService initialized..');\n        //        });\n\n        nodeService.on( 'my-db-connection-id', 'initialize', function ( /*currentContext*/) {\n            var logger,\n                testContext;\n\n            logger = function ( info ) {\n                console.warn( info );\n            };\n\n            testContext = {\n                db: 'my-db-connection-id',\n                regionId: 'TestRegion'\n            };\n            //pluginService.testRunPlugin(testContext);\n            workspaceService.watchWorkspaces( testContext, logger )\n                .then( function ( data ) {\n                    var runOnceAlready;\n\n                    console.log( 'watchWorkspaces:', data );\n\n                    runOnceAlready = false;\n\n                    angular.forEach( data.workspaces, function ( v, key ) {\n\n                        if ( runOnceAlready === false ) {\n\n                            workspaceService.watchNumberOfComponents( testContext, key, logger )\n                                .then( function ( data ) {\n                                    console.log( 'watchNumberOfComponents:', data );\n                                } );\n                            workspaceService.watchNumberOfDesigns( testContext, key, logger )\n                                .then( function ( data ) {\n                                    console.log( 'watchNumberOfDesigns:', data );\n                                } );\n                            workspaceService.watchNumberOfTestBenches( testContext, key, logger )\n                                .then( function ( data ) {\n                                    console.log( 'watchNumberOfTestBenches:', data );\n                                } );\n                            componentService.watchComponents( testContext, key, logger )\n                                .then( function ( data ) {\n                                    console.log( 'watchComponents:', data );\n                                    angular.forEach( data.components, function ( v, cKey ) {\n                                        componentService.watchInterfaces( testContext, cKey,\n                                            logger )\n                                            .then( function ( data ) {\n                                                console.log( 'watchComponentDetails:', data );\n                                            } );\n                                    } );\n                                } );\n                            designService.watchDesigns( testContext, key, logger )\n                                .then( function ( data ) {\n                                    console.log( 'watchDesigns:', data );\n                                    //                                for (cKey in data.components) {\n                                    //                                    componentService.watchComponentDetails(testContext, cKey, logger)\n                                    //                                        .then(function (data) {\n                                    //                                            console.warn('watchComponentDetails:', data);\n                                    //                                        });\n                                    //                                }\n                                } );\n                            testBenchService.watchTestBenches( testContext, key, logger )\n                                .then( function ( data ) {\n                                    console.warn( 'watchTestBenches:', data );\n                                    //                                for (cKey in data.components) {\n                                    //                                    componentService.watchComponentDetails(testContext, cKey, logger)\n                                    //                                        .then(function (data) {\n                                    //                                            console.warn('watchComponentDetails:', data);\n                                    //                                        });\n                                    //                                }\n                                } );\n                        }\n                        //break; // Can only watch the above for one work-space (unless context is modified).\n\n                        runOnceAlready = true;\n                    } );\n                } );\n        } );\n    } );"]}